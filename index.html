<!doctype html><html class="theme-next mist use-motion"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css"><meta name="keywords" content="golang, curl, mysql, elasticsearch, elk, nosql, 后端工程师, 分布式, openstack"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1"><meta name="description" content="软件工程师的自我修养"><meta property="og:type" content="website"><meta property="og:title" content="StackEye"><meta property="og:url" content="http://stackeye.com/index.html"><meta property="og:site_name" content="StackEye"><meta property="og:description" content="软件工程师的自我修养"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="StackEye"><meta name="twitter:description" content="软件工程师的自我修养"><script type="text/javascript" id="hexo.configuration">var NexT=window.NexT||{},CONFIG={scheme:"Mist",sidebar:{position:"left",display:"post"},fancybox:!0,motion:!0,duoshuo:{userId:0,author:"博主"}}</script><link rel="canonical" href="http://stackeye.com/"><title> StackEye</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?9c95a77f4ec2c33edff8095251aef97d";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><div class="container one-collumn sidebar-position-left page-home"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">StackEye</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">Long way to full stack!</p></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> 首页</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> 归档</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br> 标签</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><section id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2016/07/fresh-start/" itemprop="url">新域名启用</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-07-16T11:06:18+08:00" content="2016-07-16">2016-07-16</time></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2016/07/fresh-start/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/07/fresh-start/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>说起来比较搞笑：<br>去年下半年比较忙，比较烦，比较拖延。<br>然后旧域名adeploy.com忘了续费。<br>然后竟然被一个创业团队抢注拿去创业了。。<br>是不是我太有眼光。。</p><p>所有就有了现在的域名。</p><p>网站采用<a href="http://hexo.io" target="_blank" rel="external">hexo</a>，建在github上。<br>其实本身想用<a href="http://gohugo.io/" target="_blank" rel="external">hugo</a>的，毕竟拿go写的。但是试用了下，卡卡的真心无感。<br>既然也做过一段时间的”伪前端”，那就接着nodejs吧。<br>hexo好多模板真心业界良心。</p></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2016/03/openstack-kolla-intro/" itemprop="url">Kolla：Openstack容器化部署简介</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-03-15T09:18:18+08:00" content="2016-03-15">2016-03-15</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2016/03/openstack-kolla-intro/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/03/openstack-kolla-intro/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p><a href="https://github.com/openstack/kolla">Kolla</a>是Openstack的容器化部署项目。</p><p>本文主要对Kolla项目进行简单介绍，对其诞生的意义、内部的大概实现做出介绍，以便于读者快速理解项目以投入使用、快速进行自定义开发。</p><p>以下主要针对Kolla的Mitaka版本。开始写这篇文章时，Mitaka还尚未发布，因此使用的其实是master版本。</p><h2 id="为什么要做容器化部署"><a href="#为什么要做容器化部署" class="headerlink" title="为什么要做容器化部署"></a>为什么要做容器化部署</h2><h3 id="Openstack之美"><a href="#Openstack之美" class="headerlink" title="Openstack之美"></a>Openstack之美</h3><p>参考下图，OpenStack的架构设计是很漂亮的：清晰定义的服务，完美的原子操作，独立运行的可能，组件尽量无状态易于扩展。这是一个几乎做到极致的分布式架构。<br><img src="/img/the-beauty-of-openstack.png" alt="the beauty of openstack"></p><h3 id="Openstack之殇"><a href="#Openstack之殇" class="headerlink" title="Openstack之殇"></a>Openstack之殇</h3><p>但是现实是残酷的：</p><ul><li>服务之间往往有严重的依赖，使得部署复杂，修改麻烦，服务的管理困难；</li><li>配置复杂，有时候可能仅仅是一个微小的配置错误，就会导致整个集群功能异常；</li><li>而且随着OpenStack的发展，架构及配置只会越来越复杂。</li></ul><p>运维成本很高，效率低，严重影响了使用体验。<br></p><div class="post-more-link text-center"> <a class="btn" href="/2016/03/openstack-kolla-intro/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2016/03/kolla-service-process/" itemprop="url">Kolla中服务启动实现分析</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-03-01T15:23:12+08:00" content="2016-03-01">2016-03-01</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2016/03/kolla-service-process/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/03/kolla-service-process/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p><a href="https://github.com/openstack/kolla">Kolla</a>是Openstack的容器化部署项目。<br>在Kolla中使用ansible启动容器，服务运行于各容器内。<br>很多情况下，我们需要自定义服务启动的某些参数，这就需要我们对Kolla中服务的启动有详细的了解。</p><h2 id="服务启动流程"><a href="#服务启动流程" class="headerlink" title="服务启动流程"></a>服务启动流程</h2><p>以下是对Kolla中一个完整服务的分析，以horizon为例。<br></p><div class="post-more-link text-center"> <a class="btn" href="/2016/03/kolla-service-process/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2014/11/buildbot-in-action/" itemprop="url">buildbot实战</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2014-11-10T14:11:34+08:00" content="2014-11-10">2014-11-10</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2014/11/buildbot-in-action/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2014/11/buildbot-in-action/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p><a href="http://buildbot.net/">Buildbot</a>是一套基于python的的持续集成系统，可方便的进行自动化构建、部署、测试和发布。类似于Jenkins，但更轻量化且易于直接使用python进行扩展。Chrome社区就使用的buildbot作为其CI系统。<br>类似于Jenkins，buildbot在一个CI系统中扮演的更多是一个任务执行者的角色，其工作流程如下：</p><ul><li>监控代码仓库</li><li>代码仓库有变化后，立即拉取代码</li><li>执行build、部署、测试及发布工作</li><li>反馈结果</li></ul><p>我们对这样一个工具的一般要求为：</p><ul><li>轻量级，安装、配置简单，本身耗费资源较少</li><li>高效率，较快的完成自动化任务</li><li>通用性强，在不同的操作系统，甚至与不同的代码系统兼容</li><li>易扩展、配置及管理，能较简单的配置自动化任务</li></ul><p>Buildbot和Jenkins都能很好的满足我们这些要求。但相比Jenkins，buildbot更轻量级，部署配置更为简单。<br>Web界面也更简单美观一些。</p><h2 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h2><p>buildbot架构比较简单，主要分为三部分：</p><ul><li>版本控制层<br>外部版本控制，通过插件或主动触发的方式触发buildbot执行任务。</li><li>任务执行层<br>master接收任务后，调度其slave执行任务，并获取到返回的结果</li><li>通知层<br>master获取结果后，可通过邮件、IRC等方式进行通知。</li></ul><p>其中重要的主体是master和slave，其主要采用星形拓扑结构，一个集群中可以多个master、多个slave。master主要负责任务接收、调度并通知任务，slave负责具体的任务执行。各节点本身无状态，横向扩展性很好。</p><p><img src="/img/buildbot-overview.png" alt="buildbot架构"><br></p><div class="post-more-link text-center"> <a class="btn" href="/2014/11/buildbot-in-action/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2014/08/rpmbuild-in-action/" itemprop="url">rpmbuild实战</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2014-08-19T20:40:01+08:00" content="2014-08-19">2014-08-19</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2014/08/rpmbuild-in-action/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2014/08/rpmbuild-in-action/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>在生产环境下，未确保软件版本的可靠及软件的稳定性，我们一般不使用源码安装软件。一般会根据os的不同，选择apt-get或yum安装软件。<br>本文主要讲解如何使用rpmbuild工具制作rpm包。并以Openstack为例，讲述了Openstack打包的过程。</p><h2 id="RPM基础知识"><a href="#RPM基础知识" class="headerlink" title="RPM基础知识"></a>RPM基础知识</h2><p>本节主要分析是什么以及为什么的问题。<br>以及常用的rpm和yum命令。</p><h3 id="RPM包管理是什么？"><a href="#RPM包管理是什么？" class="headerlink" title="RPM包管理是什么？"></a>RPM包管理是什么？</h3><p>RPM全称是RedHat Package Manager，是红帽系Linux默认使用的软件管理方法。主要包括centos、fedora、rhel等Linux分支。<br>其格式为Linux标准（LSB），是数据库驱动的包管理解决方案。<br>配合软件源，在centos系操作系统下，使用yum命令（最新版本应该是逐渐向dnf过渡）可以很容易的解决软件安装时的版本依赖问题。</p><h3 id="为什么使用RPM包管理？"><a href="#为什么使用RPM包管理？" class="headerlink" title="为什么使用RPM包管理？"></a>为什么使用RPM包管理？</h3><p>RPM包管理的优点如下：</p><ul><li>易于分发，安装、卸载、升级</li><li>自动依赖跟踪，结合yum自动解决依赖问题</li><li>自带包验证，保证安装的正确性</li><li>保存软件包安装的一致性</li><li>易于保持对系统安装包的跟踪管理</li></ul><h3 id="基本RPM命令"><a href="#基本RPM命令" class="headerlink" title="基本RPM命令"></a>基本RPM命令</h3><p>我们可以直接使用rpm命令，对软件包进行一些操作。</p><ul><li>安装<br><code>rpm –ivh &lt;package_name&gt;</code><br><code>--nodeps</code>忽略依赖问题，一般仅用于测试<div class="post-more-link text-center"> <a class="btn" href="/2014/08/rpmbuild-in-action/#more" rel="contents">阅读全文 &raquo;</a></div></li></ul></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2014/06/openstack-ci/" itemprop="url">Openstack CI持续集成测试简介</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2014-06-26T09:30:40+08:00" content="2014-06-26">2014-06-26</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2014/06/openstack-ci/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2014/06/openstack-ci/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>本文档主要对Openstack社区目前的CI测试环境及其中用到的各个组件进行介绍。</p><h2 id="测试的分类及必要性"><a href="#测试的分类及必要性" class="headerlink" title="测试的分类及必要性"></a>测试的分类及必要性</h2><h3 id="测试的分类"><a href="#测试的分类" class="headerlink" title="测试的分类"></a>测试的分类</h3><p>测试的过程没太有太严格的分类标准，从使用的角度，我们可以从以下两个角度对测试进行分类。</p><h4 id="按照测试过程分类"><a href="#按照测试过程分类" class="headerlink" title="按照测试过程分类"></a>按照测试过程分类</h4><p>软件测试大概分为单元测试、集成测试、系统测试、验收测试。以下为软件测试V型图：<br><img src="/img/testing-V.png" alt="软件测试V型图"></p><ul><li>一般由单元测试开始，集中对每一个程序单元进行测试，检查各个程序模块是否正确地实现了规定的功能。单元测试的测试对象为独立的模块，需要由开发完成。</li><li>此外，开发阶段应该还需要通过代码评审等方式，进行静态测试。</li><li>集成测试把已测试过的模块组装起来，主要对与设计相关的软件体系结构的构造进行测试，目的在于检验与软件设计相关的程序结构问题。系统测试把已经经过确认的软件纳入实际运行环境中，与其它系统成份组合在一起进行测试，验证软件的完整功能是否满足需求规格并可正常运行。此两个阶段应该由测试人员执行。</li><li>在软件的迭代过程中，需要不断重复测试以验证bug修改及新功能添加，这称之为回归测试。</li><li>为了快速验证一个新版本，可挑选部分重要测试用例（如出错后会导致阻断其它测试用例的用例）用来验证，称之为冒烟测试(Smoke Test)或接收测试。</li><li>验收测试主要由软件的实际用户在实际应用场景中执行，包含α测试和β测试。</li></ul><div class="post-more-link text-center"> <a class="btn" href="/2014/06/openstack-ci/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2013/09/auto-testing-summary/" itemprop="url">自动化测试实践：自动化测试的思考总结</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2013-09-24T15:41:37+08:00" content="2013-09-24">2013-09-24</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/Testing/" itemprop="url" rel="index"><span itemprop="name">Testing</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2013/09/auto-testing-summary/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2013/09/auto-testing-summary/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>目前所在的团队一直主要负责部门产品的自动化测试方案。团队在自动化测试方面已经有了几年的探索，但直到最近才真正发挥作用大大提升了产品的测试效率，在这个过程中走了很多的弯路。<br>以下是我这一个阶段以来做自动化测试的思考及总结，有一些大的方向上的讨论，也有一些细节的探讨，希望给大家参考。</p><h2 id="关于要不要做"><a href="#关于要不要做" class="headerlink" title="关于要不要做"></a>关于要不要做</h2><p>相信还有很多人对自动化测试有疑问，或者因为种种原因不愿意引入自动化测试。以下总结了一些反对自动化测试的论点：</p><ul><li>自动化实现较难<br>一般领域内都有可用的自动化测试框架，是这个领域内大家在自动化测试领域探索后的经验总结。在使用正确框架的基础上，自动化测试的实现并不复杂。</li><li>自动化成本太高<br>下文中将会详细解释，如果设计合理，并有正确的预期，自动化的收益远大于成本。</li><li>项目规模较小，没必要做自动化测试<br>以我们自动化项目的经验，越早做自动化测试，越容易实现，成功率越高。因此可以说成本越低，受益越高。</li><li>会限制产品的灵活性<br>需求的频繁变更确实是自动化的灾难。但一般如果需求需要频繁变更，往往预示着其它问题。</li></ul><div class="post-more-link text-center"> <a class="btn" href="/2013/09/auto-testing-summary/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2013/04/gateway-performance-test-summary/" itemprop="url">网关类产品的性能测试之四：测试工具、注意事项及经验总结</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2013-04-03T17:18:25+08:00" content="2013-04-03">2013-04-03</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/Testing/" itemprop="url" rel="index"><span itemprop="name">Testing</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2013/04/gateway-performance-test-summary/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2013/04/gateway-performance-test-summary/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>前面我们介绍了各性能指标项的测试方法。本篇主要概述测试工具、测试拓扑及经验总结。</p><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>本系列分为以下四部分：</p><ol><li><a href="http://stackeye.com/2013/03/gateway-performance-test-desc/">简介及性能指标介绍</a></li><li><a href="http://stackeye.com/2013/03/gateway-performance-test-rfc2544/">RFC2544四项指标测试方法</a></li><li><a href="http://stackeye.com/2013/03/gateway-performance-test-others/">其它指标测试方法</a></li><li><a href="http://stackeye.com/2013/04/gateway-performance-test-tools/">测试工具、注意事项及经验总结</a></li></ol><h2 id="术语介绍"><a href="#术语介绍" class="headerlink" title="术语介绍"></a>术语介绍</h2><p>文章中会涉及到一些术语，现总结如下，供参考。</p><ul><li>性能测试，对产品负载压力承受能力的测试。</li><li>RFC，互联网及软件等的一些标准，基本的互联网通信协议都有在RFC文件内详细说明。</li><li>网关类产品，部署作为网关的设备及软件。</li><li>IDS，入侵检测系统</li><li>IPS，入侵防御系统</li><li>UTM，对防火墙、IDS、IPS三个的综合，可以比较全面的进行管理。但是UTM通过一台物理设备集成大量功能，导致了应对大量数据的时候效率会下降，同时存在设备损坏导致全面崩溃的可能。</li><li>NGFW，下一代防火墙，安全设备类产品未来的发展方向。</li><li>被测设备，devices under test，测试设备。</li></ul><h2 id="性能测试工具"><a href="#性能测试工具" class="headerlink" title="性能测试工具"></a>性能测试工具</h2><p>对于网关类产品，一般要求的性能值比较高，因此测试一般使用专用的硬件设备。<br>常用硬件设备有IAXA等。<br>常用的测试软件有：</p><ul><li><a href="https://iperf.fr/">iperf</a></li><li><a href="http://jmeter.apache.org/">Jmeter</a>使用Java编写，主要用于软件的性能测试，但也可扩展用于网络性能测试。机器配置足够的情况下，流量可打到上百M。</li><li><a href="http://tomahawk.sourceforge.net/">tomahawk</a>是一个回放数据包的工具，也可完成部分性能测试。</li><li>而软件的性能测试常用的LoadRunner，一般难以用于网络的性能测试。</li></ul><div class="post-more-link text-center"> <a class="btn" href="/2013/04/gateway-performance-test-summary/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2013/03/gateway-performance-test-others/" itemprop="url">网关类产品的性能测试之三：其它指标测试方法</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2013-03-22T13:47:21+08:00" content="2013-03-22">2013-03-22</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/Testing/" itemprop="url" rel="index"><span itemprop="name">Testing</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2013/03/gateway-performance-test-others/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2013/03/gateway-performance-test-others/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>本篇主要介绍除RFC2544四项指标外的其它指标的测试方法。其中的性能测试项主要来源于<a href="https://www.ietf.org/rfc/rfc3511.txt">RFC3511</a>中的定义，并根据实际需求，更新或舍弃了部分指标项。</p><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>本系列分为以下四部分：</p><ol><li><a href="http://stackeye.com/2013/03/gateway-performance-test-desc/">简介及性能指标介绍</a></li><li><a href="http://stackeye.com/2013/03/gateway-performance-test-rfc2544/">RFC2544四项指标测试方法</a></li><li>其它指标测试方法 - 本篇</li><li><a href="http://stackeye.com/2013/04/gateway-performance-test-tools/">测试工具、注意事项及经验总结</a></li></ol><h2 id="术语介绍"><a href="#术语介绍" class="headerlink" title="术语介绍"></a>术语介绍</h2><p>文章中会涉及到一些术语，现总结如下，供参考。</p><ul><li>性能测试，对产品负载压力承受能力的测试。</li><li>RFC，互联网及软件等的一些标准，基本的互联网通信协议都有在RFC文件内详细说明。</li><li>网关类产品，部署作为网关的设备及软件。</li><li>IDS，入侵检测系统</li><li>IPS，入侵防御系统</li><li>UTM，对防火墙、IDS、IPS三个的综合，可以比较全面的进行管理。但是UTM通过一台物理设备集成大量功能，导致了应对大量数据的时候效率会下降，同时存在设备损坏导致全面崩溃的可能。</li><li>NGFW，下一代防火墙，安全设备类产品未来的发展方向。</li><li>被测设备，devices under test，测试设备。</li></ul><h2 id="其它性能指标测试方法"><a href="#其它性能指标测试方法" class="headerlink" title="其它性能指标测试方法"></a>其它性能指标测试方法</h2><p>以下主要包括CPS、TPS、HTTP吞吐、TCP最大连接数及其它性能指标的测试方法。</p><div class="post-more-link text-center"> <a class="btn" href="/2013/03/gateway-performance-test-others/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2013/03/gateway-performance-test-rfc2544/" itemprop="url">网关类产品的性能测试之二：RFC2544四项指标测试方法</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2013-03-12T19:47:21+08:00" content="2013-03-12">2013-03-12</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/Testing/" itemprop="url" rel="index"><span itemprop="name">Testing</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2013/03/gateway-performance-test-rfc2544/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2013/03/gateway-performance-test-rfc2544/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>前面我们介绍了各性能指标项的含义，下面我们针对各性能指标项是如何测试的进行详细描述。<br>对于每家评测机构、客户和安全厂商，同一个性能指标在测试方法上可能有所区别。建议在测试之前首先了解客户的需求，了解客户的性能关注点在哪里，并根据实际的需求适当的调整测试方法。虽然RFC2544文档和RFC3511文档描述了相关的测试方法，但这样的测试方法并不一定能满足客户的需求，而且RFC 文档中对测试细节并没有太详细的描述。下面以我在实际测试中积累的经验和向业界学习到的知识，描述我理解的性能测试方法。</p><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>本系列分为以下四部分：</p><ol><li><a href="http://stackeye.com/2013/03/gateway-performance-test-desc/">简介及性能指标介绍</a></li><li>RFC2544四项指标测试方法 - 本篇</li><li><a href="http://stackeye.com/2013/03/gateway-performance-test-others/">其它指标测试方法</a></li><li><a href="http://stackeye.com/2013/04/gateway-performance-test-tools/">测试工具、注意事项及经验总结</a></li></ol><h2 id="术语介绍"><a href="#术语介绍" class="headerlink" title="术语介绍"></a>术语介绍</h2><p>文章中会涉及到一些术语，现总结如下，供参考。</p><ul><li>性能测试，对产品负载压力承受能力的测试。</li><li>RFC，互联网及软件等的一些标准，基本的互联网通信协议都有在RFC文件内详细说明。</li><li>网关类产品，部署作为网关的设备及软件。</li><li>IDS，入侵检测系统</li><li>IPS，入侵防御系统</li><li>UTM，对防火墙、IDS、IPS三个的综合，可以比较全面的进行管理。但是UTM通过一台物理设备集成大量功能，导致了应对大量数据的时候效率会下降，同时存在设备损坏导致全面崩溃的可能。</li><li>NGFW，下一代防火墙，安全设备类产品未来的发展方向。</li><li>被测设备，devices under test，测试设备。</li></ul><h2 id="RFC2544四项值测试方法"><a href="#RFC2544四项值测试方法" class="headerlink" title="RFC2544四项值测试方法"></a>RFC2544四项值测试方法</h2><p>RFC2544文档对四项值的定义和测试方法描述还是比较全面的，但在细节上没有过多的描述。下面我将描述一下实际测试中总结的RFC2544四项值的性能测试方法。</p><div class="post-more-link text-center"> <a class="btn" href="/2013/03/gateway-performance-test-rfc2544/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></section><nav class="pagination"> <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a></nav></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/img/avatar.jpg" alt="Jacob"><p class="site-author-name" itemprop="name">Jacob</p><p class="site-description motion-element" itemprop="description">软件工程师的自我修养</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives"><span class="site-state-item-count">26</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories"><span class="site-state-item-count">4</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags"><span class="site-state-item-count">31</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2012 - <span itemprop="copyrightYear">2016</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Jacob</span></div><div class="powered-by"> 由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动</div><div class="theme-info"> 主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script><script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script><script type="text/javascript">var duoshuoQuery={short_name:"stackeye"};!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.id="duoshuo-script",t.src=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js",t.charset="UTF-8",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}()</script><script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script><script src="/js/src/hook-duoshuo.js"></script></body></html>