<!doctype html><html class="theme-next mist use-motion"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css"><meta name="keywords" content="golang, curl, mysql, elasticsearch, elk, nosql, 后端工程师, 分布式, openstack"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1"><meta name="description" content="软件工程师的自我修养"><meta property="og:type" content="website"><meta property="og:title" content="StackEye"><meta property="og:url" content="http://stackeye.com/index.html"><meta property="og:site_name" content="StackEye"><meta property="og:description" content="软件工程师的自我修养"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="StackEye"><meta name="twitter:description" content="软件工程师的自我修养"><script type="text/javascript" id="hexo.configuration">var NexT=window.NexT||{},CONFIG={scheme:"Mist",sidebar:{position:"left",display:"post"},fancybox:!0,motion:!0,duoshuo:{userId:0,author:"博主"}}</script><link rel="canonical" href="http://stackeye.com/"><title> StackEye</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?9c95a77f4ec2c33edff8095251aef97d";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><div class="container one-collumn sidebar-position-left page-home"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">StackEye</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">Long way to full stack!</p></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> 首页</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> 归档</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br> 标签</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><section id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2016/07/fresh-start/" itemprop="url">新域名启用</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2016-07-16T11:06:18+08:00" content="2016-07-16">2016-07-16</time></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2016/07/fresh-start/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2016/07/fresh-start/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>说起来比较搞笑：<br>去年下半年比较忙，比较烦，比较拖延。<br>然后旧域名adeploy.com忘了续费。<br>然后竟然被一个创业团队抢注拿去创业了。。<br>是不是我太有眼光。。</p><p>所有就有了现在的域名。</p><p>网站采用<a href="http://hexo.io" target="_blank" rel="external">hexo</a>，建在github上。<br>其实本身想用<a href="http://gohugo.io/" target="_blank" rel="external">hugo</a>的，毕竟拿go写的。但是试用了下，卡卡的真心无感。<br>既然也做过一段时间的”伪前端”，那就接着nodejs吧。<br>hexo好多模板真心业界良心。</p></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2014/08/rpmbuild-in-action/" itemprop="url">rpmbuild实战</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2014-08-19T20:40:01+08:00" content="2014-08-19">2014-08-19</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2014/08/rpmbuild-in-action/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2014/08/rpmbuild-in-action/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>在生产环境下，未确保软件版本的可靠，软件的稳定性，我们一般不使用源码安装软件。一般会根据os的不同，选择apt-get或yum安装软件。<br>本文主要讲解如何使用rpmbuild工具制作rpm包。并以Openstack为例，讲述了Openstack打包的过程。</p><h2 id="RPM基础知识"><a href="#RPM基础知识" class="headerlink" title="RPM基础知识"></a>RPM基础知识</h2><p>本节主要分析是什么以及为什么的问题。<br>以及常用的rpm和yum命令。</p><h3 id="RPM包管理是什么？"><a href="#RPM包管理是什么？" class="headerlink" title="RPM包管理是什么？"></a>RPM包管理是什么？</h3><p>RPM全称是RedHat Package Manager，是红帽系Linux默认使用的软件管理方法。主要包括centos、fedora、rhel等Linux分支。<br>其格式为Linux标准（LSB），是数据库驱动的包管理解决方案。<br>配合软件源，在centos系操作系统下，使用yum命令（最新版本应该是逐渐向dnf过渡）可以很容易的解决软件安装时的版本依赖问题。</p><h3 id="为什么使用RPM包管理？"><a href="#为什么使用RPM包管理？" class="headerlink" title="为什么使用RPM包管理？"></a>为什么使用RPM包管理？</h3><p>RPM包管理的优点如下：</p><ul><li>易于分发，安装、卸载、升级</li><li>自动依赖跟踪，结合yum自动解决依赖问题</li><li>自带包验证，保证安装的正确性</li><li>保存软件包安装的一致性</li><li>易于保持对系统安装包的跟踪管理</li></ul><h3 id="基本RPM命令"><a href="#基本RPM命令" class="headerlink" title="基本RPM命令"></a>基本RPM命令</h3><p>我们可以直接使用rpm命令，对软件包进行一些操作。</p><ul><li>安装<br><code>rpm –ivh &lt;package_name&gt;</code><br><code>--nodeps</code>忽略依赖问题，一般仅用于测试<div class="post-more-link text-center"> <a class="btn" href="/2014/08/rpmbuild-in-action/#more" rel="contents">阅读全文 &raquo;</a></div></li></ul></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2014/06/openstack-ci/" itemprop="url">Openstack CI持续集成测试简介</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2014-06-26T09:30:40+08:00" content="2014-06-26">2014-06-26</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2014/06/openstack-ci/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2014/06/openstack-ci/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>本文档主要对Openstack社区目前的CI测试环境及其中用到的各个组件进行介绍。</p><h2 id="测试的分类及必要性"><a href="#测试的分类及必要性" class="headerlink" title="测试的分类及必要性"></a>测试的分类及必要性</h2><h3 id="测试的分类"><a href="#测试的分类" class="headerlink" title="测试的分类"></a>测试的分类</h3><p>测试的过程没太有太严格的分类标准，从使用的角度，我们可以从以下两个角度对测试进行分类。</p><h4 id="按照测试过程分类"><a href="#按照测试过程分类" class="headerlink" title="按照测试过程分类"></a>按照测试过程分类</h4><p>软件测试大概分为单元测试、集成测试、系统测试、验收测试。以下为软件测试V型图：<br><img src="/img/testing-V.png" alt="软件测试V型图"></p><ul><li>一般由单元测试开始，集中对每一个程序单元进行测试，检查各个程序模块是否正确地实现了规定的功能。单元测试的测试对象为独立的模块，需要由开发完成。</li><li>此外，开发阶段应该还需要通过代码评审等方式，进行静态测试。</li><li>集成测试把已测试过的模块组装起来，主要对与设计相关的软件体系结构的构造进行测试，目的在于检验与软件设计相关的程序结构问题。系统测试把已经经过确认的软件纳入实际运行环境中，与其它系统成份组合在一起进行测试，验证软件的完整功能是否满足需求规格并可正常运行。此两个阶段应该由测试人员执行。</li><li>在软件的迭代过程中，需要不断重复测试以验证bug修改及新功能添加，这称之为回归测试。</li><li>为了快速验证一个新版本，可挑选部分重要测试用例（如出错后会导致阻断其它测试用例的用例）用来验证，称之为冒烟测试(Smoke Test)或接收测试。</li><li>验收测试主要由软件的实际用户在实际应用场景中执行，包含α测试和β测试。</li></ul><div class="post-more-link text-center"> <a class="btn" href="/2014/06/openstack-ci/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2012/09/linux-curl-libcurl/" itemprop="url">Linux下cURL使用教程之十四：libcurl编程</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2012-09-05T13:50:45+08:00" content="2012-09-05">2012-09-05</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/curl/" itemprop="url" rel="index"><span itemprop="name">curl</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2012/09/linux-curl-libcurl/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2012/09/linux-curl-libcurl/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>在<a href="http://127.0.0.1:4000/2012/09/curl-vs-wget/">Linux下cURL使用教程之十三：curl vs wget</a>中我们谈到，curl是基于libcurl库实现的。<br>而libcurl库是开源免费跨平台的，可用于多种语言。<br>有时候linux的功能不足以满足我们的要求，或者是需要在特殊环境下实现某些功能（比如在PHP服务器上完成抓取），这时候就需要用到libcurl编程。</p><p>官方提供了一些demo代码，大家下载查看。<br>本篇文章我们只谈谈各种语言下的使用，及一些参考。</p><h2 id="C-C"><a href="#C-C" class="headerlink" title="C/C++"></a>C/C++</h2><p>C/C++语言下使用libcurl有些繁琐，但功能很强大、稳定高效。而且尤其C下本身开源库相比其它语言较少，因此libcurl库使用较多。<br>参考：<br><a href="http://curl.haxx.se/libcurl/c/libcurl-tutorial.html">http://curl.haxx.se/libcurl/c/libcurl-tutorial.html</a><br><a href="http://curl.haxx.se/libcurl/c/">http://curl.haxx.se/libcurl/c/</a></p><h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><p>PHP的libcurl库使用较多。<br></p><div class="post-more-link text-center"> <a class="btn" href="/2012/09/linux-curl-libcurl/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2012/09/curl-vs-wget/" itemprop="url">Linux下cURL使用教程之十三：curl vs wget</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2012-09-03T13:50:31+08:00" content="2012-09-03">2012-09-03</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/curl/" itemprop="url" rel="index"><span itemprop="name">curl</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2012/09/curl-vs-wget/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2012/09/curl-vs-wget/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>curl和wget有很多地方是相同的，很多场景下二者都可以使用。那面对一个复杂问题的时候，我们怎么决定使用哪个工具呢？本篇通过对二者进行比较，从而对此提供思路。<br>本篇主要参考<a href="http://daniel.haxx.se/docs/curl-vs-wget.html">curl官方的文档</a>，翻译加整理。</p><h2 id="相同点"><a href="#相同点" class="headerlink" title="相同点"></a>相同点</h2><ul><li>都是可通过FTP/HTTP/HTTPS协议下载文件的命令行工具；</li><li>都可以发送HTTP POST请求；</li><li>都支持cookie的使用；</li><li>都被设计为无界面（UI），可在如脚本中使用；</li><li>都是开源且免费的软件。</li></ul><div class="post-more-link text-center"> <a class="btn" href="/2012/09/curl-vs-wget/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2012/08/curl-ftp-usage/" itemprop="url">Linux下cURL使用教程之十二：ftp及其他协议</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2012-08-31T11:59:13+08:00" content="2012-08-31">2012-08-31</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/curl/" itemprop="url" rel="index"><span itemprop="name">curl</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2012/08/curl-ftp-usage/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2012/08/curl-ftp-usage/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>在<a href="http://stackeye.com/2012/07/linux-curl-description/">Linux下cURL使用教程之一：cURL简介</a>里，提到curl支持多种协议。本篇就以ftp协议为主，对curl对其他协议的操作进行简介。</p><h2 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h2><p>基本使用方法同HTTP没有区别：<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">curl ftp://ftp.cisco.com/pub/mibs/</div></pre></td></tr></table></figure><p></p><p>只不过ftp一般会有用户名密码，所有在命令中要加上用户名密码：<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">curl -u ftpuser:ftppass -O ftp://ftp_server/index.php</div></pre></td></tr></table></figure><p></p><p>或者<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">curl ftp:// ftpuser:ftppass ftp://ftp_server/index.php</div></pre></td></tr></table></figure><p></p><h2 id="上传文件"><a href="#上传文件" class="headerlink" title="上传文件"></a>上传文件</h2><p>使用-T选项。具体请参考<a href="https://adeployblog.appspot.com/2012/08/11/linux-curl-basic-usage-upload-file.html">Linux下cURL使用教程之六：curl基本使用之HTTP文件上传</a>。</p><div class="post-more-link text-center"> <a class="btn" href="/2012/08/curl-ftp-usage/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2012/08/linux-curl-usage-https-cert/" itemprop="url">Linux下cURL使用教程之十一：HTTPS及证书使用简介</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2012-08-21T11:58:59+08:00" content="2012-08-21">2012-08-21</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/curl/" itemprop="url" rel="index"><span itemprop="name">curl</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2012/08/linux-curl-usage-https-cert/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2012/08/linux-curl-usage-https-cert/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>某些HTTPS网站对证书的要求比较严格，使用curl直接访问时会出现如下错误：<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">curl: (60) SSL certificate problem, verify that the CA cert is OK. Details:</div><div class="line">error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed</div><div class="line">More details here: http://curl.haxx.se/docs/sslcerts.html</div></pre></td></tr></table></figure><p></p><p>此时就需要使用证书。<br>因此本篇只对curl相关选项做出介绍，详细原理请参考HTTPS协议。</p><h2 id="使用到的选项"><a href="#使用到的选项" class="headerlink" title="使用到的选项"></a>使用到的选项</h2><h3 id="E-–cert-导入证书"><a href="#E-–cert-导入证书" class="headerlink" title="-E/–cert 导入证书"></a>-E/–cert 导入证书</h3><p><code>-E/--cert &lt;certificate[:password]&gt;</code>导入证书。curl默认使用PEM格式的证书。<br>一般我们从浏览器导出的cert都是X.509格式。可以使用openssl转化为PEM格式。<br></p><div class="post-more-link text-center"> <a class="btn" href="/2012/08/linux-curl-usage-https-cert/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2012/08/linux-curl-usage-download-file/" itemprop="url">Linux下cURL使用教程之十：HTTP文件下载</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2012-08-20T11:58:46+08:00" content="2012-08-20">2012-08-20</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/curl/" itemprop="url" rel="index"><span itemprop="name">curl</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2012/08/linux-curl-usage-download-file/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2012/08/linux-curl-usage-download-file/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>其实每次我们使用curl去打开一个url都是执行一次下载操作，因此我们甚至可以认为curl是一个下载工具。<br>而且curl的某些选项及特性，使得curl能完成非常强大的下载功能。<br>基本命令及一些有用的参数如下。</p><h2 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h2><p>使用<code>curl [URL...]</code>下载URL，并输出在终端。<br>可指定多个URL。多个URL时，下载内容同时在终端显示。</p><h2 id="–progress-bar-进度条"><a href="#–progress-bar-进度条" class="headerlink" title="-#/–progress-bar 进度条"></a>-#/–progress-bar 进度条</h2><p>添加参数<code>-#/--progress-bar</code>查看下载进度条。</p><h2 id="o-–output-输出文件"><a href="#o-–output-输出文件" class="headerlink" title="-o/–output 输出文件"></a>-o/–output 输出文件</h2><p>使用参数<code>-o/--output &lt;file&gt;</code>下载并保存至文件file。<br>可同时下载多个URL，每个-o对应一个URL。<br>如：<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">curl -o a.html http://www.a.com http://www.b.com</div></pre></td></tr></table></figure><p></p><p>会下载www.a.com的内容在a.html中，并在终端输出www.b.com的内容。而<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">curl -o a.html http://www.a.com -o b.html http://www.b.com</div></pre></td></tr></table></figure><p></p><p>或者<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">curl -o a.html -o b.html http://www.a.com http://www.b.com</div></pre></td></tr></table></figure><p></p><p>会分别下载两个URL至两个文件中。<br></p><div class="post-more-link text-center"> <a class="btn" href="/2012/08/linux-curl-usage-download-file/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2012/08/http-auth-schemes/" itemprop="url">HTTP认证模式</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2012-08-17T11:58:27+08:00" content="2012-08-17">2012-08-17</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/curl/" itemprop="url" rel="index"><span itemprop="name">curl</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2012/08/http-auth-schemes/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2012/08/http-auth-schemes/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近在研究curl和httpclient，用到了HTTP认证相关的知识。<br>但是搜索之后发现，网上居然没有很全面的HTTP认证模式的介绍，尤其是中文的文章。<br>因此结合MS的<a href="http://msdn.microsoft.com/en-us/library/ms789031.aspx">Understanding HTTP Authentication</a>和<a href="http://hc.apache.org/httpcomponents-client-ga/tutorial/html/authentication.html">HttpClient Tutorial</a>翻译加个人理解写了一篇。</p><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>本篇博文简介了几种HTTP认证模式。文章内容要求读者对HTTP请求、响应的基本结构，HTTP状态码和HTTP协议头有一定的了解。<br>请参考<a href="http://stackeye.com/2012/07/linux-curl-http-protocol/">Linux下cURL使用教程之二：HTTP协议概述</a>。</p><h2 id="HTTP访问认证框架"><a href="#HTTP访问认证框架" class="headerlink" title="HTTP访问认证框架"></a>HTTP访问认证框架</h2><p>HTTP协议（RFC2616）定义了一个简单的访问认证模式框架。此框架假设有若干页面（被保护资源，也称作realm，区域），只能被特定的人访问，这些人可以在服务器要求时提供凭证。<br>当客户端如浏览器访问一个位于保护区域（protected realm）中的页面时，服务器返回包含401未认证状态码和www认证头（WWW-Authenticate header field）的响应。返回的认证头中必须含有至少一个适用于请求页面的认证要求（challenge）。<br>然后客户端发起第二次请求，此次请求在请求头中包含了试用于服务器认证要求的认证头域。<br>如果服务器接受了客户端提供的凭证，它将返回客户端请求的页面。否则，服务端会返回另一个401未认证响应以提示客户端认证失败。<br>具体认证响应头和请求头的内容取决于认证的方式。RFC2616中定义了两种广泛使用的认证模式：<br>HTTP基本认证（HTTP Basic authentication）和HTTP摘要认证（HTTP Digest authentication）。<br>此外常用的还有NTLM、SPNEGO（HTTP协商认证，HTTP Negotiate authentication，是其一种）和Kerberos认证方式。<br></p><div class="post-more-link text-center"> <a class="btn" href="/2012/08/http-auth-schemes/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2012/08/linux-curl-basic-usage-proxy/" itemprop="url">Linux下cURL使用教程之九：代理的使用</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time itemprop="dateCreated" datetime="2012-08-16T11:07:00+08:00" content="2012-08-16">2012-08-16</time></span> <span class="post-category">&nbsp; | &nbsp;<span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/curl/" itemprop="url" rel="index"><span itemprop="name">curl</span></a></span></span> <span class="post-comments-count">&nbsp; | &nbsp;<a href="/2012/08/linux-curl-basic-usage-proxy/#comments" itemprop="discussionUrl"><span class="post-comments-count ds-thread-count" data-thread-key="2012/08/linux-curl-basic-usage-proxy/" itemprop="commentsCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>这个时代估计很少有人不知道Facebook，也很少有人不知道为啥国内无法直接访问Facebook。<br>因此，实际应用中，我们会经常使用到代理。<br>本篇着重讲述在curl命令行中对代理的使用。</p><h2 id="代理环境"><a href="#代理环境" class="headerlink" title="代理环境"></a>代理环境</h2><p>本篇中，我们将代理分为HTTP代理和socks代理。<br>可是使用wallproxy+GAE的方式搭建个属于自己的代理，具体请百度或wallproxy官网。wallproxy设置完成后，代理默认为<code>127.0.0.1:8086</code>。</p><h2 id="选项-x-–proxy"><a href="#选项-x-–proxy" class="headerlink" title="选项-x/–proxy"></a>选项-x/–proxy</h2><p>参数格式为： <code>-x/--proxy &lt;proxyhost[:port]&gt;</code><br>1、使用指定的HTTP代理<br>如果未指定端口，默认端口为1080。比如使用我们本机wallproxy搭建的代理：<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">curl -x 127.0.0.1:8086 <span class="_">-e</span> http://www.ip138.com/ http://iframe.ip138.com/city.asp</div></pre></td></tr></table></figure><p></p><p>即可看到我们的IP变成了代理服务器的IP。<br></p><div class="post-more-link text-center"> <a class="btn" href="/2012/08/linux-curl-basic-usage-proxy/#more" rel="contents">阅读全文 &raquo;</a></div></div><div></div><div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></section><nav class="pagination"> <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a></nav></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/img/avatar.jpg" alt="Jacob"><p class="site-author-name" itemprop="name">Jacob</p><p class="site-description motion-element" itemprop="description">软件工程师的自我修养</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives"><span class="site-state-item-count">18</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories"><span class="site-state-item-count">2</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags"><span class="site-state-item-count">13</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2012 - <span itemprop="copyrightYear">2016</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Jacob</span></div><div class="powered-by"> 由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动</div><div class="theme-info"> 主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script><script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script><script type="text/javascript">var duoshuoQuery={short_name:"stackeye"};!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.id="duoshuo-script",t.src=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js",t.charset="UTF-8",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}()</script><script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script><script src="/js/src/hook-duoshuo.js"></script></body></html>